# TIL (2023.05.19)

## DAY 5

오늘 읽은 범위: 시작 - 2장) 타입스크립트의 타입 시스템 - 아이템9 ~ 아이템 11

---

```
😉 책에서 기억하고 싶은 내용을 써보세요.
```

### 아이템 9

- 첫 번째 `:Person` 은 변수에 ‘타입 선언’을 붙여서 그 값이 선언된 타입임을 명시합니다.
  두 번째 `as Person` 은 ‘타입 단언’을 수행합니다. 그러면 타입스크립트가 추론한 타입이 있더라도 Person 타입으로 간주합니다. (p. 74)
- 타입단언 보다는 타입선언을 사용하는게 낫습니다 (p.74)
- 타입 선언문에서는 잉여 속성 체크가 동작했지만, 단언문에서는 적용되지 않습니다.(p.75)
- 단언문을 쓰지 않고, 다음과 같이 화살표 함수 안에서 타입과 함께 변수를 선언하는 것이 가장 직관적입니다.(p.75)
- 타입 단언은 타입 체커가 추론한 타입보다 여러분이 판단하는 타입이 더 정확할 때 의미가 있습니다 (p.76)
- 변수의 접두사로 쓰인 ! 는 boolean 의 부정문입니다. 그러나 접미사로 쓰인 ! 는 그 값이 null 이 아니라는 단언문으로 해석됩니다(p.77)
- 모든 타입은 unknown 의 서브타입이기 때문에 unknown 이 포함된 단언문은 항상 동작합니다.
  unknown 단언은 임의의 타입 간에 변환을 가능케 하지만, unknown 을 사용한 이상 적어도 무언가 위험한 동작을 하고 있다는 걸 알 수 있습니다 (p.77)

### 아이템 10

- 자바스크립트에는 객체 이외에도 기본형 값들에 대한 일곱 가지 타입( string ,number , boolean , null , undefined , symbol , bigint )이 있습니다.
  string , number ,boolean , null 은 자바스크립트 초창기부터 존재해 왔으며, symbol 기본형은 ES2015에서 추가되었고, bigint 는 최종 확정 단계에 있습니다.
- 기본형들은 불변(immutable)이며 메서드를 가지지 않는다는 점에서 객체와 구분됩니다 (p.78)
- 대부분의 라이브러리와 마찬가지로 타입스크립트가 제공하는 타입 선언은 전부 기본형 타입으로 되어 있습니다.
- 그냥 기본형 타입을 사용하는 것이 낫습니다.(p.81)

### 아이템 11

- 타입이 명시된 변수에 객체 리터럴을 할당할 때 타입스크립트는 해당 타입의 속성이 있는지, 그리고 ‘그 외의 속성은 없는지’ 확인합니다. (p.82)
- 임시 변수를 도입해 보면 알 수 있는데, obj 객체는 Room 타입에 할당이 가능합니다.(p.82)
- 잉여 속성 체크가 할당 가능 검사와는 별도의 과정이라는 것을 알아야 타입스크립트 타입 시스템에 대한 개념을 정확히 잡을수 있습니다(p.82)
- 잉여 속성 체크를 이용하면 기본적으로 타입 시스템의 구조적 본질을 해치지 않으면서도 객체 리터럴에 알 수 없는 속성을 허용하지 않음으로써,
  앞에서 다룬 Room 이나 Options 예제 같은 문제점을 방지할 수 있습니다(그래서 ‘엄격한 객체 리터럴 체크’라고도 불립니다).
  document 나 new HTMLAnchorElement 는객체 리터럴이 아니기 때문에 잉여 속성 체크가 되지 않습니다. (p.84)
- 잉여 속성 체크는 타입 단언문을 사용할 때에도 적용되지 않습니다. (p.84)
- 이 예제가 단언문보다 선언문을 사용해야 하는 단적인 이유 중 하나입니다. (p.84)

```
🤔 오늘 익은 소감은? 떠오르는 생각을 가볍게 적어보세요
```

- 빈번하게 단언을 많이 사용했는데, 타입 선언으로 리팩토링을 진행해야겠다고 생각된다.

```
궁금한 내용이 있거나, 잘 이해되지 않는 내용이 있다면 적어보세요.
```

- 몽키 패치(Monkey patch) : 원래 소스코드를 변경하지 랂고 실행 시 코드 기본 동작을 추가, 변경 또는 억제하는 기술
  - 어원: 원래는 게릴라(Guerrilla)패치 -> 고릴라(Gorilla) -> 고릴라 패치는 너무 크고 거대해 보임 -> 원숭이(monkey) 변경
